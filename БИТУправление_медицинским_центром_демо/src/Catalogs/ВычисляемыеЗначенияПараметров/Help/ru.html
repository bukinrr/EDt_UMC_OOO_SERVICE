<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.17037"></meta></head><body>
<h1><font color="#000080">Справочник "Вычисляемые значения параметров шаблонов"</font></h1>
<p class="Usual">Справочник хранит алгоритмы вычисления значений параметров либо вычисляемых блоков для дальнейшего выбора в параметры шаблонов приёмов либо в сами шаблоны в качестве вычисляемых блоков.</p>
<p class="Usual">Алгоритм расчета значения пишется на встроенном языке программирования 1С. Итогом выполнения алгоритма должно быть помещение в переменную "<strong>Результат</strong>" рассчитанного значения.</p>
<p class="Usual">Тип получателя указывает назначение алгоритма:</p>
<p class="Usual"></p>
<h3>Параметр шаблона приема</h3>
<p></p>
<p class="Usual">Используется для расчета параметра шаблона приёма. Тип результата расчета, помещаемый в переменную <strong>Результат</strong>, желательно, должен совпадать с типом, прописанным в самом параметре, в котором используется это вычисляемое значение.</p>
<p class="Usual">Контекст расчета составляют переменные:</p>
<blockquote style="MARGIN-RIGHT: 0px" dir="ltr">
<p class="Usual"><strong>ДокументОбъект </strong>- объект документа Приём</p>
<p class="Usual"><strong>Параметры</strong> - структура, содержащая значения из табличной части "Переменные алгоритма". Например, для переменной с именем "Вес" для параметра "Вес пациента" обращение будет вида "Переменные.Вес", по которому будет получено текущее значение параметра "Вес пациента" в документе приёма. Указываемое в табличной части имя переменной должно соответствовать требованиям имён идентификаторов.</p></blockquote>
<h3>Вычисляемый блок шаблона приёма</h3>
<p></p>
<p class="Usual">Используется для расчета участков версии для печати у шаблонов приёма. Результат расчета, помещаемый в переменную <strong>Результат</strong>, должен представлять собой текстовую строку на языке HTML.</p>
<p class="Usual">Контекст расчета составляют переменные:</p>
<blockquote style="MARGIN-RIGHT: 0px" dir="ltr">
<p class="Usual"><strong>ДокументОбъект </strong>- объект документа Приём</p></blockquote>
<h3>Параметр email сообщения</h3>
<p></p>
<p class="Usual">Используется для расчета переменных участков писем в email рассылках. Результат расчета, помещаемый в переменную <strong>Результат</strong>, должен быть строкового типа.</p>
<p class="Usual">Контекст расчета составляют переменные:</p>
<blockquote style="MARGIN-RIGHT: 0px" dir="ltr">
<p class="Usual"><strong>Получатель </strong>- значение поля "Получатель" строки списка рассылки - ссылка на клиента или сотрудника.</p>
<p class="Usual"><strong>Источник </strong>- значение поля "Источник" строки списка рассылки.</p></blockquote></body></html>