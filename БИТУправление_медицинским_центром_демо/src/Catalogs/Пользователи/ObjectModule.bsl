#Область ОбработчикиСобытий

// Процедура - обработчик события "Перед записью".
//
// Параметры:
//  Отказ - <Булево>
//        - Признак отказа от записи элемента. Если в теле
//          процедуры-обработчика установить данному параметру
//          значение Истина, запись элемента выполнена не будет.
//          Значение по умолчанию: Ложь.
//
Процедура ПередЗаписью(Отказ)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;	
	
	Если ЭтоНовый()
		Или ПравоДоступа("Администрирование", Метаданные)
	Тогда
		Код			 = ОтраслевыеДополнения.КонтрольКорректностиФИО(Код)["Наименование"];
		Наименование = ОтраслевыеДополнения.КонтрольКорректностиФИО(Наименование)["Наименование"];
	Иначе
		// Попытка изменения существующего элемента пользователем без соответствующих прав.
		Если (Ссылка.Код <> Код) Тогда
			
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(НСтр("ru='Изменение кода существующего элемента справочника ""Пользователи"" запрещено. 
			|Изменение кода возможно только при наличии права ""Администрирование""'"));
				
			Отказ = Истина;
			
		КонецЕсли;
	КонецЕсли;
		
КонецПроцедуры

Процедура ПриКопировании(ОбъектКопирования)
	
	Код = "";
	Наименование = "";
	
КонецПроцедуры

#КонецОбласти
