#Область ОбработчикиСобытий
&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	ПересчитатьСегментыСервер(ПараметрКоманды);
	ПоказатьОповещениеПользователя("Запущен фоновый пересчет сегментов вида сегментации.");
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура ПересчитатьСегментыСервер(ВидСегментации)
	
	Параметры = Новый Массив;
	
	ВидыСегментации = Новый Массив;
	ВидыСегментации.Добавить(Новый Структура("Ссылка, Алгоритм", ВидСегментации, ВидСегментации.АлгоритмФормированияТаблицыПолейОтбора));
	
	Параметры.Добавить(ВидыСегментации);
	
	ФоновыеЗадания.Выполнить("СегментацияСервер.ОсновнойЦиклОбсчета", Параметры);
	
КонецПроцедуры
#КонецОбласти