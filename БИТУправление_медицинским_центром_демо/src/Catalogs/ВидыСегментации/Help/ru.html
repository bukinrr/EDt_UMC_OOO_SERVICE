<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html xmlns:o="urn:schemas-microsoft-com:office:office"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.9600.17037"></meta></head><body>
<blockquote>
<h1></h1>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt" text-indent:=""><font color="#000080">Виды сегментации и сегменты клиентов</font><font size="3"><font face="Times New Roman"></font></font></p><span style="mso-tab-count: 1">
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>Каждый вид сегментации – это набор правил того, как поделить клиентскую базу на отдельные сегменты. Виды сегментации независимы друг от друга, поэтому клиенты могут быть разбиты по сегментам различными способами.<o:p></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>Справочник сегментов подчинен справочнику видов сегментации, поэтому каждый вид имеет свои собственные сегменты (которые могут иметь одинаковые названия).<o:p></o:p></p>
<p class="MsoNormal" style="MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>Для вида сегментации задаются настройки пересчета сегментов и отборы для отнесения клиента к тому или иному сегменту, а также признак хранения истории старых значений.<o:p></o:p></p>
<h6 style="MARGIN-TOP: 6pt"><font size="3"><font color="#243f60"><font face="Cambria">Настройка хранения истории старых значений<o:p></o:p></font></font></font></h6>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>Когда данная настройка выключена, изменение сегмента клиента при расчете записывается в базу данных с удалением предыдущих значений. Это препятствует разрастанию базы данных, однако, делает принципиально невозможным анализ истории изменения сегмента. Включать хранение истории стоит только когда эта старая информация однозначно нужна.<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span><b style="mso-bidi-font-weight: normal">Обратите внимание!</b> Даже если для сегмента включено хранение истории, если сегмент добавлен в отчет «через точку» от поля «Клиент», в отчет будет выводиться <u>текущее значение</u> <u>независимо от даты или периода, выбранных в отчете</u>. Например, в случае добавления вида сегментации «Постоянность» и использовании в отчетах в виде поля «Клиент.Постоянность». Поэтому, категорически не следует анализировать стандартными отчетами других подсистем деятельность за период с учетом видов сегментации, для которых характерна сильная изменчивость во времени, т.к. текущие значения сегментов, которые попадут в отчет, будут не совпадать со значением сегментов на даты операций, отраженных в отчете.<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>Фактически, анализ истории изменения сегментов клиента возможен только посредством просмотра сегментов одного клиента командой «<u>Открыть сегменты клиента</u>» из карточки клиента, а также с помощью специализированных отчетов по сегментации: «Количество клиентов в сегменте», «Количество переходов между сегментами» и «Сегментация клиентов», но только при использовании группировки «Вид сегментации», а не через поле клиента.<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span><b style="mso-bidi-font-weight: normal">Обратите внимание! </b>Включение хранения истории для вида сегментации не влечет за собой расчет значений сегментов за все предыдущие периоды. Фактически, накопление истории начинается с момента включения этой настройки и начала пересчета сегментов этого вида сегментации. <o:p></o:p></p>
<h6 style="MARGIN-TOP: 6pt"><font size="3"><font color="#243f60"><font face="Cambria">Настройки пересчета сегментов<o:p></o:p></font></font></font></h6>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>Расчет сегментации клиентской базы может существенно нагружать информационную систему в случаях, когда число клиентов в базе велико (может достигать сотен тысяч человек) и когда в базе по какой-то причине создано много видов сегментации (ведь, каждый из них требует отдельного расчета). <o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt; TEXT-INDENT: 35.4pt">Поэтому каждому виду сегментации в отдельности предоставляется несколько вариантов того, в какой момент должен происходить пересчет сегментов:<o:p></o:p></p>
<p class="MsoListParagraph" style="MARGIN: 0cm 0cm 2pt 2cm; TEXT-INDENT: -17.85pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; LINE-HEIGHT: 115%; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><span style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;,&quot;serif&quot;; LINE-HEIGHT: 115%">Регламентным заданием, полый пересчет – отдельное регламентное задание полного пересчета по заданному пользователем расписанию пересчитает сегменты для всех клиентов в базе;<o:p></o:p></span></p>
<p class="MsoListParagraph" style="MARGIN: 0cm 0cm 2pt 2cm; TEXT-INDENT: -17.85pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; LINE-HEIGHT: 115%; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><span style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;,&quot;serif&quot;; LINE-HEIGHT: 115%">Регламентным заданием, только измененные – отдельным регламентным заданием частичного пересчета будут рассчитаны сегменты этого вида сегментации для тех клиентов, у которых с последнего выборочного пересчета изменились ключевые данные, отмеченные как влияющие на этот вид сегментации;<o:p></o:p></span></p>
<p class="MsoListParagraph" style="MARGIN: 0cm 0cm 2pt 2cm; TEXT-INDENT: -17.85pt; mso-list: l0 level1 lfo1"><span style="FONT-SIZE: 12pt; FONT-FAMILY: Symbol; LINE-HEIGHT: 115%; mso-fareast-font-family: Symbol; mso-bidi-font-family: Symbol"><span style="mso-list: Ignore">·<span style="FONT: 7pt &quot;Times New Roman&quot;">         </span></span></span><span style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;,&quot;serif&quot;; LINE-HEIGHT: 115%">При изменении данных – сразу при изменении данных, отмеченных как влияющие на значение сегмента этого вида сегментации.<o:p></o:p></span></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 2pt; TEXT-INDENT: 35.4pt">В качестве данных, чьё изменение может менять сегмент клиента, пользователь может отметить: «Реквизиты клиента» (т.е. изменение любого влечет пересчет), «Контактная информация», «Документы Заявка», «Документы оказания услуг». <o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 2pt; TEXT-INDENT: 35.4pt">Пересчет сразу при изменении данных имеет смысл, когда актуальное значение сегмента может требоваться пользователю неотлагательно сразу после изменений.<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 2pt; TEXT-INDENT: 35.4pt">Полные пересчет следует применять для видов сегментации, на которые влияет течение времени, например, связанные с возрастом клиента или давностью последнего посещения. Такие данные меняются ежесуточно, поэтому полный пересчет имеет смысл делать раз в сутки либо, если небольшие отклонения не важны, реже чем раз в сутки (еженедельно).<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 2pt; TEXT-INDENT: 35.4pt">Если на нахождение клиента в сегменте оказывает влияние изменение данных, но срочная актуализация сегмента не требуется, такой вид сегментации стоит пересчитывать регламентным заданием для пересчета только измененных. Пересчет будет проходить параллельно с работой пользователя малыми порциями только из клиентов с изменившимися данными.<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 2pt; TEXT-INDENT: 35.4pt">Для вида сегментации может иметь смысл применять два способа пересчета одновременно: как полный, так и при изменении. Например, когда сегмент зависит и от течения времени, и от каких-то изменяющихся данных (например, оценка давности последнего посещения меняется ежедневно и при оформлении продажи клиенту).<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>В редких случаях возникает потребность однократного полного пересчета всего вида сегментации: когда он только что добавлен либо изменился (например, добавился новый сегмент, изменились отборы сегментов). В этом случае можно включить режим полного пересчета вида сегментации регламентным заданием, а после полного пересчета (по расписанию или ручным запуском регламентного задания), отключить режим полного пересчета.<o:p></o:p></p>
<h6 style="MARGIN-TOP: 6pt"><font size="3"><font color="#243f60"><font face="Cambria">Настройки отборов сегментов<o:p></o:p></font></font></font></h6>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>Для каждой строки сегмента задается отбор, определяющий, проходит ли в него клиент. При расчете сегментов отборы применяются последовательно. Если клиент прошел отбор в сегмент, он ему присваивается, а следующий отбор сегмента к нему уже не применяется. Иными словами, клиент попадёт в первый же сегмент, отбор которого он проходит, и даже если он проходит по отбору и в следующий сегмент, он останется в первом. Клиентам, не прошедшим ни в один сегмент, проставляется сегмент по умолчанию, указанный для этого вида сегментации.<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>Указание сегмента по умолчанию рекомендуется, когда заданные отборы сегментов не охватывают 100% возможных ситуаций. Пустой сегмент в качестве умолчания допускается, но, с точки зрения отчетов, пустой сегмент у рассчитанных клиентов и неопределенный у тех, для кого расчета еще ни разу не проводилось – это разные аналитические значения.<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>Настройка отбора аналогична отборам в отчетах: из доступных полей выбирается поле или его реквизит, далее указывается вид сравнения и значение сравнения. Допускается группировка условий, например, для создания составных вида «Условие1 ИЛИ Условие2».<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"><span style="mso-tab-count: 1">            </span>С точки зрения снижения нагрузки на систему при пересчете сегментации, желательно, соблюдать следующие правила:<o:p></o:p></p>
<p class="MsoListParagraph" style="MARGIN: 0cm 0cm 2pt 35.7pt; TEXT-INDENT: -17.85pt; mso-list: l1 level1 lfo2"><span style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;,&quot;serif&quot;; LINE-HEIGHT: 115%"><span style="mso-list: Ignore">1.<span style="FONT: 7pt &quot;Times New Roman&quot;">      </span></span></span><span style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;,&quot;serif&quot;; LINE-HEIGHT: 115%">Сегменты, в которые попадает больше клиентов, лучше размещать первыми. Это позволит при расчете следующих сегментов не вычислять выполнение отбора для клиентов, уже попавших в первые сегменты.<o:p></o:p></span></p>
<p class="MsoListParagraph" style="MARGIN: 0cm 0cm 2pt 35.7pt; TEXT-INDENT: -17.85pt; mso-list: l1 level1 lfo2"><span style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;,&quot;serif&quot;; LINE-HEIGHT: 115%"><span style="mso-list: Ignore">2.<span style="FONT: 7pt &quot;Times New Roman&quot;">      </span></span></span><span style="FONT-SIZE: 12pt; FONT-FAMILY: &quot;Times New Roman&quot;,&quot;serif&quot;; LINE-HEIGHT: 115%">Сегменты с простыми (лёгкими для вычисления сервером) условиями лучше располагать раньше, чем сегменты с тяжелыми сложными условиями. Это позволит рассчитывать сложные условия для меньшего числа клиентов.<o:p></o:p></span></p>
<h6 style="MARGIN-TOP: 6pt"><font size="3"><font color="#243f60"><font face="Cambria">Таблица дополнительных показателей отбора<o:p></o:p></font></font></font></h6>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 2pt"><span style="mso-tab-count: 1">            </span>Силами программиста 1С возможно добавить в вид сегментации до 9 собственных полей отбора. Для этого следует на закладке «Алгоритм таблицы собственных показателей» указать текст на встроенном языке платформы 1С, вычисляющий их. Контекст выполнения этого программного кода – переменная <i style="mso-bidi-font-style: normal">Таблица</i>, представляющая собой таблицу значений с колонками «Клиент» и «Показатель1», «Показатель2», … «Показатель9». К моменту запуска на стороне сервера заполненного алгоритма в этой таблице уже будут добавлены строки с заполненной колонкой «Клиент» - с клиентами очередной порции расчета. От программиста потребуется обеспечить заполнение тех показателей, что будут задействованы в отборах.<o:p></o:p></p>
<p class="MsoNormal" style="TEXT-ALIGN: justify; MARGIN: 0cm 0cm 0pt"></p></span>Данный отчет предназначен для анализа изменения численности клиентов в сегментах одного выбранного вида сегментации. Отчет имеет смысл только для видов сегментации с включенным хранением истории, а также рассчитанных за весь анализируемый период – при невыполнении этих условий отчет не сможет дать полной исторической картины.</blockquote></body></html>