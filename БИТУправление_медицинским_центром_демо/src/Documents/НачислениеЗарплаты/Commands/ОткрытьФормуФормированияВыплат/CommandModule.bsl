#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)

	ПараметрыОткрытия = Новый Структура;
	ПараметрыОткрытия.Вставить("Сотрудники", ПолучитьМассивСотрудниковНачисления(ПараметрКоманды));
	ПараметрыОткрытия.Вставить("Документ",	 ПараметрКоманды);
	
	ФормаВыплат = ОткрытьФорму("Документ.НачислениеЗарплаты.Форма.ФормаВыплаты", ПараметрыОткрытия);
	
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

Функция ПолучитьМассивСотрудниковНачисления(ДокументНачисление)
	
	МассивСотрудников = Новый Массив;
	Для Каждого СтрокаТЧ Из ДокументНачисление.Начисления Цикл
		Если МассивСотрудников.Найти(СтрокаТЧ.Сотрудник) = Неопределено Тогда
			МассивСотрудников.Добавить(СтрокаТЧ.Сотрудник);
		КонецЕсли;		
	КонецЦикла;
	
	Возврат МассивСотрудников;
	
КонецФункции

#КонецОбласти 