#Область ОбработчикиСобытийФормы
&НаКлиенте
Процедура ПриОткрытии(Отказ)
	ПрочитатьЦвета();
КонецПроцедуры

&НаСервере
Процедура ПередЗаписьюНаСервере(Отказ, ТекущийОбъект, ПараметрыЗаписи)
	ТекущийОбъект.ЦветКонтейнера = Новый ХранилищеЗначения(ЦветКонтейнера);
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиСобытийЭлементовШапкиФормы
&НаКлиенте
Процедура ЦветКонтейнераНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)
	
	СтандартнаяОбработка = Ложь;
	Диалог = Новый ДиалогВыбораЦвета; 
	Диалог.Цвет = ЦветКонтейнера;
	Если Диалог.Выбрать() Тогда 
    	ЦветКонтейнера = Диалог.Цвет;
		Модифицированность = Истина;
	КонецЕсли;
	
КонецПроцедуры


#КонецОбласти

#Область СлужебныеПроцедурыИФункции
&НаСервере
Процедура ПрочитатьЦвета()
	ОбъектЗаписи = РеквизитФормыВЗначение("Запись");
	ЦветКонтейнера = ОбъектЗаписи.ЦветКонтейнера.Получить();
	ЗначениеВРеквизитФормы(Объектзаписи,"Запись");
КонецПроцедуры

#КонецОбласти